Perfect 👍 — you want Mattermost to **bind to port 443** *without* changing ports, so you have two safe options:

1. **Grant the binary permission with `setcap`** (clean and persistent), or
2. **Run it via `sudo` or systemd with elevated privileges** (less clean, but possible).

Let’s go through both cleanly 👇

---

## 🧩 Option 1 — Grant capability (`setcap`) ✅ *Recommended*

This gives the **Mattermost binary** permission to bind to privileged ports (<1024) without running as root.

### Steps:

```bash
# 1. Locate the binary
sudo which mattermost
# Usually /opt/mattermost/bin/mattermost

# 2. Grant permission to bind to low ports
sudo setcap 'cap_net_bind_service=+ep' /opt/mattermost/bin/mattermost

# 3. Verify it applied
sudo getcap /opt/mattermost/bin/mattermost
# → /opt/mattermost/bin/mattermost = cap_net_bind_service+ep

# 4. Restart Mattermost
sudo systemctl restart mattermost
```

That’s it — now Mattermost can listen directly on `:443` without needing root privileges.

✅ **Persistent across reboots**
❌ Might need to reapply if you upgrade Mattermost (binary replaced).

---

## 🧩 Option 2 — Run Mattermost as root (via sudo/systemd)

⚠️ *Less secure; not best practice but works.*

If Mattermost is run as a service (which it usually is), check its systemd unit file:

```bash
sudo systemctl edit --full mattermost
```

Find:

```
User=mattermost
Group=mattermost
```

You could (temporarily) change these to:

```
User=root
Group=root
```

Then reload and restart:

```bash
sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl restart mattermost
```

However, this **runs the entire application as root**, which is **not recommended**.

---

## 🧩 Option 3 — Allow limited `sudo` execution (fine-tuned)

If you really want to let the `mattermost` user start the service using `sudo`:

Run:

```bash
sudo visudo
```

Add:

```
mattermost ALL=(ALL) NOPASSWD: /bin/systemctl start mattermost, /bin/systemctl stop mattermost, /bin/systemctl restart mattermost
```

This allows the `mattermost` user to manage its own service with `sudo` but **still doesn’t solve** the permission for port 443 unless combined with `setcap`.

---

✅ **Best combination (secure and practical):**

Use **Option 1** (`setcap`) → keeps Mattermost as `mattermost` user, allows `:443`, no root process.

---

Would you like me to check your `systemd` unit file (the one at `/lib/systemd/system/mattermost.service` or `/etc/systemd/system/mattermost.service`) and tell you the exact line to verify so that `setcap` works smoothly?
